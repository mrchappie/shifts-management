<div
  class="relative justify-between gap-4 p-2 mb-4 rounded-md center bg-lightBgSecondary dark:bg-darkBgPrimary shadow-all-sides"
>
  <form class="gap-6 center" [formGroup]="searchForm">
    <div class="flex-1 min-w-max custom-search-label center">
      <label class="min-w-max">
        <input
          type="text"
          name="workplace"
          [placeholder]="
            parent === 'all-users' ? 'Search by name' : 'Search by workplace'
          "
          formControlName="nameQuery"
          class="w-full custom-search-input"
        />
      </label>
      <div (click)="searchShiftsByWorkplace()" class="cursor-pointer center">
        <mat-icon fontIcon="search "></mat-icon>
      </div>
    </div>
    <label
      *ngIf="parent === 'my-shifts' || parent === 'all-shifts'"
      class="flex-1 custom-search-label"
    >
      <input
        type="month"
        name="yearMonth"
        id="yearMonth"
        formControlName="yearMonthQuery"
        (change)="getShiftsByDate(filters!.queryLimit)"
        class="custom-search-input"
      />
    </label>
    <label class="flex-1 min-w-max center custom-search-label">
      <select
        name="sorterBy"
        id="sorterBy"
        formControlName="sortByQuery"
        class="custom-search-input"
      >
        <option *ngFor="let filter of sortBy" value="{{ filter.value }}">
          {{ filter.name }}
        </option>
      </select>
      <div (click)="changeSortOrder()" class="w-[30px] cursor-pointer">
        <div
          class="center"
          [style.transform]="
            orderBy === 'dsc' ? 'rotate(0deg)' : 'rotate(180deg)'
          "
        >
          <mat-icon fontIcon="filter_list"></mat-icon>
        </div>
      </div>
    </label>
    <label class="flex-1 min-w-max center custom-search-label">
      <div>Results:</div>
      <select
        type="number"
        name="queryLimit"
        id="queryLimit"
        formControlName="queryLimit"
        class="custom-search-input"
      >
        <option value="10">10</option>
        <option value="20">20</option>
        <option value="40">40</option>
        <option value="60">60</option>
        <option value="80">80</option>
        <option value="100">100</option>
        <option value="9999">All</option>
      </select>
    </label>
    <!-- RESET BUTTON -->
    <div class="w-full col-span-1 col-start-6 center">
      <button
        type="button"
        (click)="resetFilters()"
        class="w-full p-2 border-2 border-transparent rounded-md shadow-all-sides bg-lightBgPrimary dark:bg-darkBgSecondary"
      >
        Reset
      </button>
    </div>

    <!-- More Filters Container -->
    <div
      *ngIf="showMoreFilters"
      class="absolute right-0 top-[110%] bg-lightBgPrimary dark:bg-darkBgSecondary center-col gap-12 p-6 rounded-md shadow-all-sides z-50"
    >
      <label
        *ngIf="parent === 'my-shifts' || parent === 'all-shifts'"
        class="flex-1 center custom-search-label dark:bg-darkBgPrimary"
      >
        <div class="custom-label-text-r">Start date</div>
        <input
          type="date"
          name="startDate"
          formControlName="startDateQuery"
          class="custom-search-input dark:bg-darkBgPrimary"
        />
      </label>
      <label
        *ngIf="parent === 'my-shifts' || parent === 'all-shifts'"
        class="flex-1 center custom-search-label dark:bg-darkBgPrimary"
      >
        <div class="custom-label-text-r">End date</div>
        <input
          type="date"
          name="endDate"
          formControlName="endDateQuery"
          class="custom-search-input dark:bg-darkBgPrimary"
        />
      </label>
    </div>
  </form>

  <!-- More Filters -->
  <div *ngIf="parent != 'all-users'" class="w-max">
    <button
      type="button"
      (click)="toggleMoreFilters()"
      class="w-full p-2 border-2 border-transparent rounded-md shadow-all-sides bg-lightBgPrimary dark:bg-darkBgSecondary"
    >
      More Filters
    </button>
  </div>
</div>
